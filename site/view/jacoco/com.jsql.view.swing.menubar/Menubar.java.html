<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang=""><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Menubar.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">view</a> &gt; <a href="index.source.html" class="el_package">com.jsql.view.swing.menubar</a> &gt; <span class="el_source">Menubar.java</span></div><h1>Menubar.java</h1><pre class="source lang-java linenums">/*******************************************************************************
 * Copyhacked (H) 2012-2020.
 * This program and the accompanying materials
 * are made available under no term at all, use it like
 * you want, but share and discuss about it
 * every time possible with every body.
 * 
 * Contributors:
 *      ron190 at ymail dot com - initial implementation
 ******************************************************************************/
package com.jsql.view.swing.menubar;

import com.jsql.model.InjectionModel;
import com.jsql.util.GitUtil.ShowOnConsole;
import com.jsql.util.I18nUtil;
import com.jsql.util.LogLevelUtil;
import com.jsql.view.swing.action.ActionNewWindow;
import com.jsql.view.swing.action.ActionSaveTab;
import com.jsql.view.swing.action.HotkeyUtil;
import com.jsql.view.swing.console.JTextPaneAppender;
import com.jsql.view.swing.dialog.DialogAbout;
import com.jsql.view.swing.dialog.DialogTranslate;
import com.jsql.view.swing.dialog.translate.Language;
import com.jsql.view.swing.interaction.CreateTabHelper;
import com.jsql.view.swing.manager.util.JButtonStateful;
import com.jsql.view.swing.panel.PanelPreferences;
import com.jsql.view.swing.scrollpane.LightScrollPane;
import com.jsql.view.swing.sql.SqlEngine;
import com.jsql.view.swing.tab.TabHeader;
import com.jsql.view.swing.table.PanelTable;
import com.jsql.view.swing.text.JPopupTextArea;
import com.jsql.view.swing.text.JTextFieldPlaceholder;
import com.jsql.view.swing.text.JToolTipI18n;
import com.jsql.view.swing.tree.model.NodeModelEmpty;
import com.jsql.view.swing.util.I18nViewUtil;
import com.jsql.view.swing.util.MediatorHelper;
import com.jsql.view.swing.util.UiUtil;
import org.apache.commons.lang3.ArrayUtils;
import org.apache.commons.lang3.StringUtils;
import org.apache.logging.log4j.LogManager;
import org.apache.logging.log4j.Logger;

import javax.swing.*;
import javax.swing.plaf.basic.BasicCheckBoxMenuItemUI;
import javax.swing.table.JTableHeader;
import javax.swing.table.TableColumnModel;
import javax.swing.text.JTextComponent;
import javax.swing.text.StyleConstants;
import java.awt.*;
import java.awt.event.*;
import java.util.AbstractMap.SimpleEntry;
import java.util.Locale;
import java.util.ResourceBundle;
import java.util.prefs.Preferences;
import java.util.stream.Stream;

/**
 * Application main menubar.
 */
public class Menubar extends JMenuBar {
    
    /**
     * Log4j logger sent to view.
     */
<span class="fc" id="L65">    private static final Logger LOGGER = LogManager.getRootLogger();</span>
    
    // Checkbox item to show/hide chunk console.
    private JCheckBoxMenuItem chunkMenu;

    // Checkbox item to show/hide java console.
    private JCheckBoxMenuItem javaDebugMenu;
    
    private JMenu menuView;
    
    private JMenuItem itemArabic;
    private JMenuItem itemEnglish;
    private JMenuItem itemChinese;
    private JMenuItem itemRussian;
    private JMenuItem itemFrench;
    private JMenuItem itemCzech;
    private JMenuItem itemTurkish;
    private JMenuItem itemGerman;
    private JMenuItem itemDutch;
    private JMenuItem itemIndonesian;
    private JMenuItem itemItalian;
    private JMenuItem itemSpanish;
    private JMenuItem itemPortuguese;
    private JMenuItem itemPolish;
    private JMenuItem itemRomanian;
    private JMenuItem itemKorean;
    private JMenuItem itemSwedish;
    private JMenuItem itemFinnish;
    
    private JMenuItem itemIntoHindi;
    private JMenuItem itemIntoArabic;
    private JMenuItem itemIntoRussia;
    private JMenuItem itemIntoChina;
    private JMenuItem itemIntoFrench;
    private JMenuItem itemIntoTurkish;
    private JMenuItem itemIntoCzech;
    private JMenuItem itemIntoGerman;
    private JMenuItem itemIntoDutch;
    private JMenuItem itemIntoIndonesian;
    private JMenuItem itemIntoItalian;
    private JMenuItem itemIntoSpanish;
    private JMenuItem itemIntoSwedish;
    private JMenuItem itemIntoPortuguese;
    private JMenuItem itemIntoPolish;
    private JMenuItem itemIntoKorean;
    private JMenuItem itemIntoJapanese;
    private JMenuItem itemIntoRomanian;
    private JMenuItem itemIntoTamil;
    private JMenuItem itemIntoFinnish;
    
    private static final String KEY_MENU_SQL_ENGINE = &quot;MENUBAR_SQL_ENGINE&quot;;
    private static final String KEY_MENU_PREFERENCES = &quot;MENUBAR_PREFERENCES&quot;;
    private static final String LANGUAGE_IN_ID = &quot;in-ID&quot;;

    /**
     * Create a menubar on main frame.
     */
<span class="fc" id="L122">    public Menubar() {</span>

<span class="fc" id="L124">        JMenu menuFile = this.initializeMenuFile();</span>
<span class="fc" id="L125">        JMenu menuEdit = this.initializeMenuEdit();</span>
<span class="fc" id="L126">        JMenu menuCommunity = this.initializeMenuCommunity();</span>
<span class="fc" id="L127">        JMenu menuWindows = this.initializeMenuWindows();</span>
<span class="fc" id="L128">        JMenu menuHelp = this.initializeMenuHelp();</span>

<span class="fc" id="L130">        this.add(menuFile);</span>
<span class="fc" id="L131">        this.add(menuEdit);</span>
<span class="fc" id="L132">        this.add(menuCommunity);</span>
<span class="fc" id="L133">        this.add(menuWindows);</span>
<span class="fc" id="L134">        this.add(menuHelp);</span>
<span class="fc" id="L135">    }</span>

    private JMenu initializeMenuWindows() {
        
        // Window Menu &gt; Preferences
<span class="fc" id="L140">        var menuWindows = new JMenu(I18nUtil.valueByKey(&quot;MENUBAR_WINDOWS&quot;));</span>
<span class="fc" id="L141">        menuWindows.setName(&quot;menuWindows&quot;);</span>
<span class="fc" id="L142">        I18nViewUtil.addComponentForKey(&quot;MENUBAR_WINDOWS&quot;, menuWindows);</span>
<span class="fc" id="L143">        menuWindows.setMnemonic('W');</span>

<span class="fc" id="L145">        JMenuItem itemNewWindows = new JMenuItemWithMargin(new ActionNewWindow());</span>
<span class="fc" id="L146">        I18nViewUtil.addComponentForKey(&quot;NEW_WINDOW_MENU&quot;, itemNewWindows);</span>
        
<span class="fc" id="L148">        menuWindows.add(itemNewWindows);</span>
<span class="fc" id="L149">        var menuAppearance = new JMenu(&quot;Appearance&quot;);</span>
<span class="fc" id="L150">        JMenuItem itemNewWindows4k = new JMenuItemWithMargin(</span>
            new ActionNewWindow(&quot;New 4K Window&quot;, &quot;-Dsun.java2d.uiScale=2.5&quot;)
        );
<span class="fc" id="L153">        menuAppearance.add(itemNewWindows4k);</span>
<span class="fc" id="L154">        menuWindows.add(itemNewWindows);</span>
<span class="fc" id="L155">        menuWindows.add(menuAppearance);</span>
<span class="fc" id="L156">        menuWindows.add(new JSeparator());</span>

<span class="fc" id="L158">        JMenu menuTranslation = this.initializeMenuTranslation();</span>
        
<span class="fc" id="L160">        menuWindows.add(menuTranslation);</span>
<span class="fc" id="L161">        menuWindows.add(new JSeparator());</span>
        
<span class="fc" id="L163">        this.menuView = new JMenu(I18nUtil.valueByKey(&quot;MENUBAR_VIEW&quot;));</span>
<span class="fc" id="L164">        I18nViewUtil.addComponentForKey(&quot;MENUBAR_VIEW&quot;, this.menuView);</span>
<span class="fc" id="L165">        this.menuView.setMnemonic('V');</span>
        
<span class="fc" id="L167">        var database = new JMenuItem(I18nUtil.valueByKey(&quot;DATABASE_TAB&quot;), UiUtil.ICON_DATABASE_SERVER);</span>
<span class="fc" id="L168">        I18nViewUtil.addComponentForKey(&quot;DATABASE_TAB&quot;, database);</span>
<span class="fc" id="L169">        this.menuView.add(database);</span>
        
<span class="fc" id="L171">        var adminPage = new JMenuItem(I18nUtil.valueByKey(&quot;ADMINPAGE_TAB&quot;), UiUtil.ICON_ADMIN_SERVER);</span>
<span class="fc" id="L172">        I18nViewUtil.addComponentForKey(&quot;ADMINPAGE_TAB&quot;, adminPage);</span>
<span class="fc" id="L173">        this.menuView.add(adminPage);</span>
        
<span class="fc" id="L175">        var file = new JMenuItem(I18nUtil.valueByKey(&quot;FILE_TAB&quot;), UiUtil.ICON_FILE_SERVER);</span>
<span class="fc" id="L176">        I18nViewUtil.addComponentForKey(&quot;FILE_TAB&quot;, file);</span>
<span class="fc" id="L177">        this.menuView.add(file);</span>
        
<span class="fc" id="L179">        var webshell = new JMenuItem(I18nUtil.valueByKey(&quot;WEBSHELL_TAB&quot;), UiUtil.ICON_SHELL_SERVER);</span>
<span class="fc" id="L180">        I18nViewUtil.addComponentForKey(&quot;WEBSHELL_TAB&quot;, webshell);</span>
<span class="fc" id="L181">        this.menuView.add(webshell);</span>
        
<span class="fc" id="L183">        var sqlshell = new JMenuItem(I18nUtil.valueByKey(&quot;SQLSHELL_TAB&quot;), UiUtil.ICON_SHELL_SERVER);</span>
<span class="fc" id="L184">        I18nViewUtil.addComponentForKey(&quot;SQLSHELL_TAB&quot;, sqlshell);</span>
<span class="fc" id="L185">        this.menuView.add(sqlshell);</span>
        
<span class="fc" id="L187">        var upload = new JMenuItem(I18nUtil.valueByKey(&quot;UPLOAD_TAB&quot;), UiUtil.ICON_UPLOAD);</span>
<span class="fc" id="L188">        I18nViewUtil.addComponentForKey(&quot;UPLOAD_TAB&quot;, upload);</span>
<span class="fc" id="L189">        this.menuView.add(upload);</span>
        
<span class="fc" id="L191">        var bruteforce = new JMenuItem(I18nUtil.valueByKey(&quot;BRUTEFORCE_TAB&quot;), UiUtil.ICON_BRUTER);</span>
<span class="fc" id="L192">        I18nViewUtil.addComponentForKey(&quot;BRUTEFORCE_TAB&quot;, bruteforce);</span>
<span class="fc" id="L193">        this.menuView.add(bruteforce);</span>
        
<span class="fc" id="L195">        var coder = new JMenuItem(I18nUtil.valueByKey(&quot;CODER_TAB&quot;), UiUtil.ICON_CODER);</span>
<span class="fc" id="L196">        I18nViewUtil.addComponentForKey(&quot;CODER_TAB&quot;, coder);</span>
<span class="fc" id="L197">        this.menuView.add(coder);</span>
        
<span class="fc" id="L199">        var scanList = new JMenuItem(I18nUtil.valueByKey(&quot;SCANLIST_TAB&quot;), UiUtil.ICON_SCANLIST);</span>
<span class="fc" id="L200">        I18nViewUtil.addComponentForKey(&quot;SCANLIST_TAB&quot;, scanList);</span>
<span class="fc" id="L201">        this.menuView.add(scanList);</span>
<span class="fc" id="L202">        menuWindows.add(this.menuView);</span>

<span class="fc" id="L204">        Preferences prefs = Preferences.userRoot().node(InjectionModel.class.getName());</span>

<span class="fc" id="L206">        var menuPanel = new JMenu(I18nUtil.valueByKey(&quot;MENUBAR_PANEL&quot;));</span>
<span class="fc" id="L207">        I18nViewUtil.addComponentForKey(&quot;MENUBAR_PANEL&quot;, menuPanel);</span>
<span class="fc" id="L208">        this.menuView.setMnemonic('V');</span>
        
<span class="fc" id="L210">        this.chunkMenu = new JCheckBoxMenuItem(</span>
<span class="fc" id="L211">            I18nUtil.valueByKey(&quot;CONSOLE_CHUNK_LABEL&quot;),</span>
            UiUtil.ICON_CHUNK,
<span class="fc" id="L213">            prefs.getBoolean(UiUtil.CHUNK_VISIBLE, true)</span>
        );
<span class="fc" id="L215">        I18nViewUtil.addComponentForKey(&quot;CONSOLE_CHUNK_LABEL&quot;, this.chunkMenu);</span>
<span class="fc" id="L216">        menuPanel.add(this.chunkMenu);</span>
        
<span class="fc" id="L218">        var binaryMenu = new JCheckBoxMenuItem(</span>
<span class="fc" id="L219">            I18nUtil.valueByKey(&quot;CONSOLE_BINARY_LABEL&quot;),</span>
            UiUtil.ICON_BINARY,
<span class="fc" id="L221">            prefs.getBoolean(UiUtil.BINARY_VISIBLE, true)</span>
        );
<span class="fc" id="L223">        I18nViewUtil.addComponentForKey(&quot;CONSOLE_BINARY_LABEL&quot;, binaryMenu);</span>
<span class="fc" id="L224">        menuPanel.add(binaryMenu);</span>
        
<span class="fc" id="L226">        var networkMenu = new JCheckBoxMenuItem(</span>
<span class="fc" id="L227">            I18nUtil.valueByKey(&quot;CONSOLE_NETWORK_LABEL&quot;),</span>
            UiUtil.ICON_HEADER,
<span class="fc" id="L229">            prefs.getBoolean(UiUtil.NETWORK_VISIBLE, true)</span>
        );
<span class="fc" id="L231">        I18nViewUtil.addComponentForKey(&quot;CONSOLE_NETWORK_LABEL&quot;, networkMenu);</span>
<span class="fc" id="L232">        menuPanel.add(networkMenu);</span>
        
<span class="fc" id="L234">        this.javaDebugMenu = new JCheckBoxMenuItem(</span>
<span class="fc" id="L235">            I18nUtil.valueByKey(&quot;CONSOLE_JAVA_LABEL&quot;),</span>
            UiUtil.ICON_CUP,
<span class="fc" id="L237">            prefs.getBoolean(UiUtil.JAVA_VISIBLE, false)</span>
        );
<span class="fc" id="L239">        I18nViewUtil.addComponentForKey(&quot;CONSOLE_JAVA_LABEL&quot;, this.javaDebugMenu);</span>

<span class="fc bfc" id="L241" title="All 2 branches covered.">        for (var menuItem: new JCheckBoxMenuItem[]{ this.chunkMenu, binaryMenu, networkMenu, this.javaDebugMenu }) {</span>
<span class="fc" id="L242">            menuItem.setUI(</span>
<span class="fc" id="L243">                new BasicCheckBoxMenuItemUI() {</span>
                    @Override
                    protected void doClick(MenuSelectionManager msm) {
<span class="nc" id="L246">                        this.menuItem.doClick(0);</span>
<span class="nc" id="L247">                    }</span>
                }
            );
        }

<span class="fc" id="L252">        this.chunkMenu.addActionListener(actionEvent -&gt; {</span>
<span class="nc bnc" id="L253" title="All 2 branches missed.">            if (this.chunkMenu.isSelected()) {</span>
<span class="nc" id="L254">                MediatorHelper.panelConsoles().insertChunkTab();</span>
            } else {
<span class="nc" id="L256">                MediatorHelper.tabConsoles().remove(MediatorHelper.tabConsoles().indexOfTab(UiUtil.ICON_CHUNK));</span>
            }
<span class="nc" id="L258">        });</span>
        
<span class="fc" id="L260">        binaryMenu.addActionListener(actionEvent -&gt; {</span>
<span class="nc bnc" id="L261" title="All 2 branches missed.">            if (binaryMenu.isSelected()) {</span>
<span class="nc" id="L262">                MediatorHelper.panelConsoles().insertBooleanTab();</span>
            } else {
<span class="nc" id="L264">                MediatorHelper.tabConsoles().remove(MediatorHelper.tabConsoles().indexOfTab(UiUtil.ICON_BINARY));</span>
            }
<span class="nc" id="L266">        });</span>
        
<span class="fc" id="L268">        networkMenu.addActionListener(actionEvent -&gt; {</span>
<span class="nc bnc" id="L269" title="All 2 branches missed.">            if (networkMenu.isSelected()) {</span>
<span class="nc" id="L270">                MediatorHelper.panelConsoles().insertNetworkTab();</span>
            } else {
<span class="nc" id="L272">                MediatorHelper.tabConsoles().remove(MediatorHelper.tabConsoles().indexOfTab(UiUtil.ICON_HEADER));</span>
            }
<span class="nc" id="L274">        });</span>
        
<span class="fc" id="L276">        this.javaDebugMenu.addActionListener(actionEvent -&gt; {</span>
<span class="nc bnc" id="L277" title="All 2 branches missed.">            if (this.javaDebugMenu.isSelected()) {</span>
<span class="nc" id="L278">                MediatorHelper.panelConsoles().insertJavaTab();</span>
            } else {
<span class="nc" id="L280">                MediatorHelper.tabConsoles().remove(MediatorHelper.tabConsoles().indexOfTab(UiUtil.ICON_CUP));</span>
            }
<span class="nc" id="L282">        });</span>

<span class="fc" id="L284">        menuPanel.add(this.javaDebugMenu);</span>
        
<span class="fc" id="L286">        menuWindows.add(menuPanel);</span>
<span class="fc" id="L287">        menuWindows.add(new JSeparator());</span>

<span class="fc" id="L289">        database.setAccelerator(KeyStroke.getKeyStroke(KeyEvent.VK_1, InputEvent.CTRL_DOWN_MASK));</span>
<span class="fc" id="L290">        adminPage.setAccelerator(KeyStroke.getKeyStroke(KeyEvent.VK_2, InputEvent.CTRL_DOWN_MASK));</span>
<span class="fc" id="L291">        file.setAccelerator(KeyStroke.getKeyStroke(KeyEvent.VK_3, InputEvent.CTRL_DOWN_MASK));</span>
<span class="fc" id="L292">        webshell.setAccelerator(KeyStroke.getKeyStroke(KeyEvent.VK_4, InputEvent.CTRL_DOWN_MASK));</span>
<span class="fc" id="L293">        sqlshell.setAccelerator(KeyStroke.getKeyStroke(KeyEvent.VK_5, InputEvent.CTRL_DOWN_MASK));</span>
<span class="fc" id="L294">        upload.setAccelerator(KeyStroke.getKeyStroke(KeyEvent.VK_6, InputEvent.CTRL_DOWN_MASK));</span>
<span class="fc" id="L295">        bruteforce.setAccelerator(KeyStroke.getKeyStroke(KeyEvent.VK_7, InputEvent.CTRL_DOWN_MASK));</span>
<span class="fc" id="L296">        coder.setAccelerator(KeyStroke.getKeyStroke(KeyEvent.VK_8, InputEvent.CTRL_DOWN_MASK));</span>
<span class="fc" id="L297">        scanList.setAccelerator(KeyStroke.getKeyStroke(KeyEvent.VK_9, InputEvent.CTRL_DOWN_MASK));</span>

<span class="fc bfc" id="L299" title="All 2 branches covered.">        for (var position = 0 ; position &lt; this.menuView.getItemCount() ; position++) {</span>
            
<span class="fc" id="L301">            final JMenuItem itemMenu = this.menuView.getItem(position);</span>
<span class="fc" id="L302">            final int positionFinal = position;</span>
<span class="pc" id="L303">            itemMenu.addActionListener(actionEvent -&gt; MediatorHelper.tabManagers().setSelectedIndex(positionFinal));</span>
        }

<span class="fc" id="L306">        JMenuItem itemPreferences = this.initializeItemPreferences();</span>
<span class="fc" id="L307">        itemPreferences.setName(&quot;itemPreferences&quot;);</span>
<span class="fc" id="L308">        JMenuItem itemSqlEngine = this.initializeItemSqlEngine();</span>
<span class="fc" id="L309">        itemSqlEngine.setName(&quot;itemSqlEngine&quot;);</span>
        
<span class="fc" id="L311">        menuWindows.add(itemSqlEngine);</span>
<span class="fc" id="L312">        menuWindows.add(itemPreferences);</span>
        
<span class="fc" id="L314">        return menuWindows;</span>
    }

    private JMenu initializeMenuHelp() {
        
        // Help Menu &gt; about
<span class="fc" id="L320">        var menuHelp = new JMenu(I18nUtil.valueByKey(&quot;MENUBAR_HELP&quot;));</span>
<span class="fc" id="L321">        menuHelp.setMnemonic('H');</span>
<span class="fc" id="L322">        I18nViewUtil.addComponentForKey(&quot;MENUBAR_HELP&quot;, menuHelp);</span>
<span class="fc" id="L323">        menuHelp.setName(&quot;menuHelp&quot;);</span>
        
<span class="fc" id="L325">        JMenuItem itemHelp = new JMenuItemWithMargin(I18nUtil.valueByKey(&quot;MENUBAR_HELP_ABOUT&quot;), 'A');</span>
<span class="fc" id="L326">        I18nViewUtil.addComponentForKey(&quot;MENUBAR_HELP_ABOUT&quot;, itemHelp);</span>
<span class="fc" id="L327">        itemHelp.setName(&quot;itemHelp&quot;);</span>
        
<span class="fc" id="L329">        JMenuItem itemUpdate = new JMenuItemWithMargin(I18nUtil.valueByKey(&quot;MENUBAR_HELP_UPDATE&quot;), 'U');</span>
<span class="fc" id="L330">        I18nViewUtil.addComponentForKey(&quot;MENUBAR_HELP_UPDATE&quot;, itemUpdate);</span>

        // Render the About dialog behind scene
<span class="fc" id="L333">        final var aboutDiag = new DialogAbout();</span>
<span class="fc" id="L334">        itemHelp.addActionListener(actionEvent -&gt; {</span>
            
            // Center the dialog
<span class="pc bpc" id="L337" title="1 of 2 branches missed.">            if (!aboutDiag.isVisible()) {</span>
                
<span class="fc" id="L339">                aboutDiag.initializeDialog();</span>
                // needed here for button focus
<span class="fc" id="L341">                aboutDiag.setVisible(true);</span>
<span class="fc" id="L342">                aboutDiag.requestButtonFocus();</span>
            }
            
<span class="fc" id="L345">            aboutDiag.setVisible(true);</span>
<span class="fc" id="L346">        });</span>
<span class="fc" id="L347">        itemUpdate.addActionListener(new ActionCheckUpdate());</span>
        
<span class="fc" id="L349">        menuHelp.add(itemUpdate);</span>
<span class="fc" id="L350">        menuHelp.add(new JSeparator());</span>
<span class="fc" id="L351">        menuHelp.add(itemHelp);</span>
        
<span class="fc" id="L353">        return menuHelp;</span>
    }

    private JMenuItem initializeItemSqlEngine() {
        
<span class="fc" id="L358">        var itemSqlEngine = new JMenuItem(I18nUtil.valueByKey(KEY_MENU_SQL_ENGINE));</span>
<span class="fc" id="L359">        I18nViewUtil.addComponentForKey(KEY_MENU_SQL_ENGINE, itemSqlEngine);</span>
        
        // Render the SQL Engine dialog behind scene
<span class="fc" id="L362">        var titleTabSqlEngine = &quot;SQL Engine&quot;;</span>
        
<span class="fc" id="L364">        itemSqlEngine.addActionListener(actionEvent -&gt; {</span>
            
<span class="pc bpc" id="L366" title="1 of 2 branches missed.">            for (var i = 0; i &lt; MediatorHelper.tabResults().getTabCount() ; i++) {</span>
<span class="nc bnc" id="L367" title="All 2 branches missed.">                if (titleTabSqlEngine.equals(MediatorHelper.tabResults().getTitleAt(i))) {</span>
                    
<span class="nc" id="L369">                    MediatorHelper.tabResults().setSelectedIndex(i);</span>
<span class="nc" id="L370">                    return;</span>
                }
            }
            
<span class="fc" id="L374">            CreateTabHelper.initializeSplitOrientation();</span>

<span class="fc" id="L376">            var panelSqlEngine = new SqlEngine();</span>
            
<span class="fc" id="L378">            MediatorHelper.tabResults().addTab(titleTabSqlEngine, panelSqlEngine);</span>

            // Focus on the new tab
<span class="fc" id="L381">            MediatorHelper.tabResults().setSelectedComponent(panelSqlEngine);</span>

            // Create a custom tab header with close button
<span class="fc" id="L384">            var header = new TabHeader(I18nViewUtil.valueByKey(KEY_MENU_SQL_ENGINE), UiUtil.ICON_COG, panelSqlEngine);</span>
<span class="fc" id="L385">            I18nViewUtil.addComponentForKey(KEY_MENU_SQL_ENGINE, header.getTabTitleLabel());</span>

            // Apply the custom header to the tab
<span class="fc" id="L388">            MediatorHelper.tabResults().setTabComponentAt(MediatorHelper.tabResults().indexOfComponent(panelSqlEngine), header);</span>
<span class="fc" id="L389">        });</span>
        
<span class="fc" id="L391">        return itemSqlEngine;</span>
    }

    private JMenuItem initializeItemPreferences() {
        
<span class="fc" id="L396">        JMenuItem itemPreferences = new JMenuItemWithMargin(I18nUtil.valueByKey(KEY_MENU_PREFERENCES), 'P');</span>
<span class="fc" id="L397">        I18nViewUtil.addComponentForKey(KEY_MENU_PREFERENCES, itemPreferences);</span>
        
        // Render the Preferences dialog behind scene
<span class="fc" id="L400">        var titleTabPreferences = &quot;Preferences&quot;;</span>
        
        // Single rendering
<span class="fc" id="L403">        var panelPreferences = new PanelPreferences();</span>
        
<span class="fc" id="L405">        itemPreferences.addActionListener(actionEvent -&gt; {</span>
            
<span class="pc bpc" id="L407" title="1 of 2 branches missed.">            for (var i = 0; i &lt; MediatorHelper.tabResults().getTabCount() ; i++) {</span>
<span class="nc bnc" id="L408" title="All 2 branches missed.">                if (titleTabPreferences.equals(MediatorHelper.tabResults().getTitleAt(i))) {</span>
                    
<span class="nc" id="L410">                    MediatorHelper.tabResults().setSelectedIndex(i);</span>
<span class="nc" id="L411">                    return;</span>
                }
            }
            
<span class="fc" id="L415">            CreateTabHelper.initializeSplitOrientation();</span>
            
<span class="fc" id="L417">            AdjustmentListener singleItemScroll = adjustmentEvent -&gt; {</span>
                
                // The user scrolled the List (using the bar, mouse wheel or something else):
<span class="pc bpc" id="L420" title="1 of 2 branches missed.">                if (adjustmentEvent.getAdjustmentType() == AdjustmentEvent.TRACK) {</span>
                    
                    // Jump to the next &quot;block&quot; (which is a row&quot;.
<span class="fc" id="L423">                    adjustmentEvent.getAdjustable().setBlockIncrement(100);</span>
<span class="fc" id="L424">                    adjustmentEvent.getAdjustable().setUnitIncrement(100);</span>
                }
<span class="fc" id="L426">            };</span>

<span class="fc" id="L428">            var scroller = new LightScrollPane(1, 0, 0, 0, panelPreferences);</span>
<span class="fc" id="L429">            scroller.scrollPane.getVerticalScrollBar().addAdjustmentListener(singleItemScroll);</span>
            
<span class="fc" id="L431">            MediatorHelper.tabResults().addTab(titleTabPreferences, scroller);</span>

            // Focus on the new tab
<span class="fc" id="L434">            MediatorHelper.tabResults().setSelectedComponent(scroller);</span>

            // Create a custom tab header with close button
<span class="fc" id="L437">            var header = new TabHeader(I18nViewUtil.valueByKey(KEY_MENU_PREFERENCES), UiUtil.ICON_COG, panelPreferences.getPanelTampering());</span>
<span class="fc" id="L438">            I18nViewUtil.addComponentForKey(KEY_MENU_PREFERENCES, header.getTabTitleLabel());</span>

            // Apply the custom header to the tab
<span class="fc" id="L441">            MediatorHelper.tabResults().setTabComponentAt(MediatorHelper.tabResults().indexOfComponent(scroller), header);</span>
<span class="fc" id="L442">        });</span>
        
<span class="fc" id="L444">        return itemPreferences;</span>
    }

    private JMenu initializeMenuCommunity() {
        
        // Help Menu &gt; about
<span class="fc" id="L450">        var menuCommunity = new JMenu(I18nUtil.valueByKey(&quot;MENUBAR_COMMUNITY&quot;));</span>
<span class="fc" id="L451">        menuCommunity.setMnemonic('C');</span>
<span class="fc" id="L452">        menuCommunity.setName(&quot;menuCommunity&quot;);</span>
<span class="fc" id="L453">        I18nViewUtil.addComponentForKey(&quot;MENUBAR_COMMUNITY&quot;, menuCommunity);</span>
        
<span class="fc" id="L455">        JMenu menuI18nContribution = this.initializeMenuI18nContribution();</span>
<span class="fc" id="L456">        menuI18nContribution.setName(&quot;menuI18nContribution&quot;);</span>
        
<span class="fc" id="L458">        JMenuItem itemReportIssue = this.initializeItemReportIssue();</span>
<span class="fc" id="L459">        itemReportIssue.setName(&quot;itemReportIssue&quot;);</span>
        
<span class="fc" id="L461">        menuCommunity.add(menuI18nContribution);</span>
<span class="fc" id="L462">        menuCommunity.add(new JSeparator());</span>
<span class="fc" id="L463">        menuCommunity.add(itemReportIssue);</span>
        
<span class="fc" id="L465">        return menuCommunity;</span>
    }

    private JMenu initializeMenuTranslation() {
        
<span class="fc" id="L470">        var patternAsianDisplay = &quot;&lt;html&gt;&lt;span style=\&quot;font-family:'%s'\&quot;&gt;%s&lt;/span&gt;&lt;/html&gt;&quot;;</span>
        
<span class="fc" id="L472">        var menuTranslation = new JMenu(I18nUtil.valueByKey(&quot;MENUBAR_LANGUAGE&quot;));</span>
<span class="fc" id="L473">        I18nViewUtil.addComponentForKey(&quot;MENUBAR_LANGUAGE&quot;, menuTranslation);</span>
<span class="fc" id="L474">        menuTranslation.setName(&quot;menuTranslation&quot;);</span>
        
<span class="fc" id="L476">        Object[] languages = Stream.of(&quot;ru zh es fr tr ko se ar cs it pt pl in nl ro de&quot;.split(StringUtils.SPACE))</span>
<span class="fc" id="L477">            .map(flag -&gt; Locale.forLanguageTag(flag).getLanguage())</span>
<span class="fc" id="L478">            .toArray();</span>
        
<span class="pc bpc" id="L480" title="1 of 2 branches missed.">        boolean isEnglish = !ArrayUtils.contains(languages, Locale.getDefault().getLanguage());</span>
    
<span class="fc" id="L482">        this.itemEnglish = new JRadioButtonMenuItem(</span>
<span class="fc" id="L483">            Locale.forLanguageTag(&quot;en&quot;).getDisplayLanguage(Locale.forLanguageTag(&quot;en&quot;)),</span>
            UiUtil.ICON_FLAG_EN,
            isEnglish
        );
<span class="fc" id="L487">        this.itemEnglish.addActionListener(actionEvent -&gt; Menubar.this.switchLocale(Locale.ROOT));</span>
<span class="fc" id="L488">        this.itemEnglish.setName(&quot;itemEnglish&quot;);</span>
        
        // Unhandled ClassFormatError #73790 on constructor: Unknown constant tag 73 in class file java/awt/font/TextLine
<span class="fc" id="L491">        this.itemArabic = new JRadioButtonMenuItem(</span>
<span class="fc" id="L492">            String.format(</span>
                patternAsianDisplay,
                UiUtil.FONT_NAME_MONO_ASIAN,
<span class="fc" id="L495">                Locale.forLanguageTag(&quot;ar&quot;).getDisplayLanguage(Locale.forLanguageTag(&quot;ar&quot;))</span>
            ),
            UiUtil.ICON_FLAG_AR,
<span class="fc" id="L498">            Locale.forLanguageTag(&quot;ar&quot;).getLanguage().equals(Locale.getDefault().getLanguage())</span>
        );
<span class="pc" id="L500">        this.itemArabic.addActionListener(actionEvent -&gt; Menubar.this.switchLocale(Locale.forLanguageTag(&quot;ar&quot;)));</span>
<span class="fc" id="L501">        this.itemArabic.setComponentOrientation(ComponentOrientation.RIGHT_TO_LEFT);</span>
        
<span class="fc" id="L503">        this.itemRussian = new JRadioButtonMenuItem(</span>
<span class="fc" id="L504">            Locale.forLanguageTag(&quot;ru&quot;).getDisplayLanguage(Locale.forLanguageTag(&quot;ru&quot;)),</span>
            UiUtil.ICON_FLAG_RU,
<span class="fc" id="L506">            Locale.forLanguageTag(&quot;ru&quot;).getLanguage().equals(Locale.getDefault().getLanguage())</span>
        );
<span class="fc" id="L508">        this.itemRussian.addActionListener(actionEvent -&gt; Menubar.this.switchLocale(Locale.forLanguageTag(&quot;ru&quot;)));</span>
<span class="fc" id="L509">        this.itemRussian.setName(&quot;itemRussian&quot;);</span>
        
<span class="fc" id="L511">        this.itemCzech = new JRadioButtonMenuItem(</span>
<span class="fc" id="L512">            Locale.forLanguageTag(&quot;cs&quot;).getDisplayLanguage(Locale.forLanguageTag(&quot;cs&quot;)),</span>
            UiUtil.ICON_FLAG_CS,
<span class="fc" id="L514">            Locale.forLanguageTag(&quot;cs&quot;).getLanguage().equals(Locale.getDefault().getLanguage())</span>
        );
<span class="pc" id="L516">        this.itemCzech.addActionListener(actionEvent -&gt; Menubar.this.switchLocale(Locale.forLanguageTag(&quot;cs&quot;)));</span>
        
<span class="fc" id="L518">        this.itemItalian = new JRadioButtonMenuItem(</span>
<span class="fc" id="L519">            Locale.forLanguageTag(&quot;it&quot;).getDisplayLanguage(Locale.forLanguageTag(&quot;it&quot;)),</span>
            UiUtil.ICON_FLAG_IT,
<span class="fc" id="L521">            Locale.forLanguageTag(&quot;it&quot;).getLanguage().equals(Locale.getDefault().getLanguage())</span>
        );
<span class="pc" id="L523">        this.itemItalian.addActionListener(actionEvent -&gt; Menubar.this.switchLocale(Locale.forLanguageTag(&quot;it&quot;)));</span>
        
<span class="fc" id="L525">        this.itemIndonesian = new JRadioButtonMenuItem(</span>
<span class="fc" id="L526">            Locale.forLanguageTag(LANGUAGE_IN_ID).getDisplayLanguage(Locale.forLanguageTag(LANGUAGE_IN_ID)),</span>
            UiUtil.ICON_FLAG_IN_ID,
<span class="fc" id="L528">            Locale.forLanguageTag(LANGUAGE_IN_ID).getLanguage().equals(Locale.getDefault().getLanguage())</span>
        );
<span class="pc" id="L530">        this.itemIndonesian.addActionListener(actionEvent -&gt; Menubar.this.switchLocale(Locale.forLanguageTag(LANGUAGE_IN_ID)));</span>
        
<span class="fc" id="L532">        this.itemDutch = new JRadioButtonMenuItem(</span>
<span class="fc" id="L533">            Locale.forLanguageTag(&quot;nl&quot;).getDisplayLanguage(Locale.forLanguageTag(&quot;nl&quot;)),</span>
            UiUtil.ICON_FLAG_NL,
<span class="fc" id="L535">            Locale.forLanguageTag(&quot;nl&quot;).getLanguage().equals(Locale.getDefault().getLanguage())</span>
        );
<span class="pc" id="L537">        this.itemDutch.addActionListener(actionEvent -&gt; Menubar.this.switchLocale(Locale.forLanguageTag(&quot;nl&quot;)));</span>
        
<span class="fc" id="L539">        this.itemGerman = new JRadioButtonMenuItem(</span>
<span class="fc" id="L540">            Locale.forLanguageTag(&quot;de&quot;).getDisplayLanguage(Locale.forLanguageTag(&quot;de&quot;)),</span>
            UiUtil.ICON_FLAG_DE,
<span class="fc" id="L542">            Locale.forLanguageTag(&quot;de&quot;).getLanguage().equals(Locale.getDefault().getLanguage())</span>
        );
<span class="pc" id="L544">        this.itemGerman.addActionListener(actionEvent -&gt; Menubar.this.switchLocale(Locale.forLanguageTag(&quot;de&quot;)));</span>
        
<span class="fc" id="L546">        this.itemTurkish = new JRadioButtonMenuItem(</span>
<span class="fc" id="L547">            Locale.forLanguageTag(&quot;tr&quot;).getDisplayLanguage(Locale.forLanguageTag(&quot;tr&quot;)),</span>
            UiUtil.ICON_FLAG_TR,
<span class="fc" id="L549">            Locale.forLanguageTag(&quot;tr&quot;).getLanguage().equals(Locale.getDefault().getLanguage())</span>
        );
<span class="pc" id="L551">        this.itemTurkish.addActionListener(actionEvent -&gt; Menubar.this.switchLocale(Locale.forLanguageTag(&quot;tr&quot;)));</span>
        
<span class="fc" id="L553">        this.itemFrench = new JRadioButtonMenuItem(</span>
<span class="fc" id="L554">            Locale.forLanguageTag(&quot;fr&quot;).getDisplayLanguage(Locale.forLanguageTag(&quot;fr&quot;)),</span>
            UiUtil.ICON_FLAG_FR,
<span class="fc" id="L556">            Locale.forLanguageTag(&quot;fr&quot;).getLanguage().equals(Locale.getDefault().getLanguage())</span>
        );
<span class="pc" id="L558">        this.itemFrench.addActionListener(actionEvent -&gt; Menubar.this.switchLocale(Locale.forLanguageTag(&quot;fr&quot;)));</span>
        
<span class="fc" id="L560">        this.itemSpanish = new JRadioButtonMenuItem(</span>
<span class="fc" id="L561">            Locale.forLanguageTag(&quot;es&quot;).getDisplayLanguage(Locale.forLanguageTag(&quot;es&quot;)),</span>
            UiUtil.ICON_FLAG_ES,
<span class="fc" id="L563">            Locale.forLanguageTag(&quot;es&quot;).getLanguage().equals(Locale.getDefault().getLanguage())</span>
        );
<span class="pc" id="L565">        this.itemSpanish.addActionListener(actionEvent -&gt; Menubar.this.switchLocale(Locale.forLanguageTag(&quot;es&quot;)));</span>
        
<span class="fc" id="L567">        this.itemPortuguese = new JRadioButtonMenuItem(</span>
<span class="fc" id="L568">            Locale.forLanguageTag(&quot;pt&quot;).getDisplayLanguage(Locale.forLanguageTag(&quot;pt&quot;)),</span>
            UiUtil.ICON_FLAG_PT,
<span class="fc" id="L570">            Locale.forLanguageTag(&quot;pt&quot;).getLanguage().equals(Locale.getDefault().getLanguage())</span>
        );
<span class="pc" id="L572">        this.itemPortuguese.addActionListener(actionEvent -&gt; Menubar.this.switchLocale(Locale.forLanguageTag(&quot;pt&quot;)));</span>
        
<span class="fc" id="L574">        this.itemChinese = new JRadioButtonMenuItem(</span>
<span class="fc" id="L575">            String.format(</span>
                patternAsianDisplay,
                UiUtil.FONT_NAME_MONO_ASIAN,
<span class="fc" id="L578">                Locale.forLanguageTag(&quot;zh&quot;).getDisplayLanguage(Locale.forLanguageTag(&quot;zh&quot;))</span>
            ),
            UiUtil.ICON_FLAG_ZH,
<span class="fc" id="L581">            Locale.forLanguageTag(&quot;zh&quot;).getLanguage().equals(Locale.getDefault().getLanguage())</span>
        );
<span class="pc" id="L583">        this.itemChinese.addActionListener(actionEvent -&gt; Menubar.this.switchLocale(Locale.forLanguageTag(&quot;zh&quot;)));</span>
        
<span class="fc" id="L585">        this.itemPolish = new JRadioButtonMenuItem(</span>
<span class="fc" id="L586">            Locale.forLanguageTag(&quot;pl&quot;).getDisplayLanguage(Locale.forLanguageTag(&quot;pl&quot;)),</span>
            UiUtil.ICON_FLAG_PL,
<span class="fc" id="L588">            Locale.forLanguageTag(&quot;pl&quot;).getLanguage().equals(Locale.getDefault().getLanguage())</span>
        );
<span class="pc" id="L590">        this.itemPolish.addActionListener(actionEvent -&gt; Menubar.this.switchLocale(Locale.forLanguageTag(&quot;pl&quot;)));</span>
        
<span class="fc" id="L592">        this.itemRomanian = new JRadioButtonMenuItem(</span>
<span class="fc" id="L593">            Locale.forLanguageTag(&quot;ro&quot;).getDisplayLanguage(Locale.forLanguageTag(&quot;ro&quot;)),</span>
            UiUtil.ICON_FLAG_RO,
<span class="fc" id="L595">            Locale.forLanguageTag(&quot;ro&quot;).getLanguage().equals(Locale.getDefault().getLanguage())</span>
        );
<span class="pc" id="L597">        this.itemRomanian.addActionListener(actionEvent -&gt; Menubar.this.switchLocale(Locale.forLanguageTag(&quot;ro&quot;)));</span>
        
<span class="fc" id="L599">        this.itemSwedish = new JRadioButtonMenuItem(</span>
<span class="fc" id="L600">            Locale.forLanguageTag(&quot;se&quot;).getDisplayLanguage(Locale.forLanguageTag(&quot;se&quot;)),</span>
            UiUtil.ICON_FLAG_SE,
<span class="fc" id="L602">            Locale.forLanguageTag(&quot;se&quot;).getLanguage().equals(Locale.getDefault().getLanguage())</span>
        );
<span class="pc" id="L604">        this.itemSwedish.addActionListener(actionEvent -&gt; Menubar.this.switchLocale(Locale.forLanguageTag(&quot;se&quot;)));</span>
        
<span class="fc" id="L606">        this.itemFinnish = new JRadioButtonMenuItem(</span>
<span class="fc" id="L607">            Locale.forLanguageTag(&quot;fi&quot;).getDisplayLanguage(Locale.forLanguageTag(&quot;fi&quot;)),</span>
            UiUtil.ICON_FLAG_FI,
<span class="fc" id="L609">            Locale.forLanguageTag(&quot;fi&quot;).getLanguage().equals(Locale.getDefault().getLanguage())</span>
        );
<span class="pc" id="L611">        this.itemFinnish.addActionListener(actionEvent -&gt; Menubar.this.switchLocale(Locale.forLanguageTag(&quot;fi&quot;)));</span>
        
<span class="fc" id="L613">        this.itemKorean = new JRadioButtonMenuItem(</span>
<span class="fc" id="L614">            String.format(</span>
                patternAsianDisplay,
                UiUtil.FONT_NAME_MONO_ASIAN,
<span class="fc" id="L617">                Locale.forLanguageTag(&quot;ko&quot;).getDisplayLanguage(Locale.forLanguageTag(&quot;ko&quot;))</span>
            ),
            UiUtil.ICON_FLAG_KO,
<span class="fc" id="L620">            Locale.forLanguageTag(&quot;ko&quot;).getLanguage().equals(Locale.getDefault().getLanguage())</span>
        );
<span class="pc" id="L622">        this.itemKorean.addActionListener(actionEvent -&gt; Menubar.this.switchLocale(Locale.forLanguageTag(&quot;ko&quot;)));</span>
        
<span class="fc" id="L624">        var groupRadioLanguage = new ButtonGroup();</span>
        
<span class="fc" id="L626">        Stream.of(</span>
            this.itemEnglish,
            this.itemRussian,
            this.itemChinese,
            this.itemSpanish,
            this.itemFrench,
            this.itemTurkish,
            this.itemKorean,
            this.itemSwedish,
            this.itemFinnish,
            this.itemArabic,
            this.itemCzech,
            this.itemItalian,
            this.itemPortuguese,
            this.itemPolish,
            this.itemIndonesian,
            this.itemDutch,
            this.itemRomanian,
            this.itemGerman
        )
<span class="fc" id="L646">        .forEach(menuItem -&gt; {</span>
            
<span class="fc" id="L648">            menuTranslation.add(menuItem);</span>
<span class="fc" id="L649">            groupRadioLanguage.add(menuItem);</span>
<span class="fc" id="L650">        });</span>
        
<span class="fc" id="L652">        return menuTranslation;</span>
    }

    private JMenu initializeMenuI18nContribution() {
        
<span class="fc" id="L657">        var menuI18nContribution = new JMenu(I18nUtil.valueByKey(&quot;MENUBAR_COMMUNITY_HELPTRANSLATE&quot;));</span>
<span class="fc" id="L658">        I18nViewUtil.addComponentForKey(&quot;MENUBAR_COMMUNITY_HELPTRANSLATE&quot;, menuI18nContribution);</span>
        
        // Render the About dialog behind scene
<span class="fc" id="L661">        final var dialogTranslate = new DialogTranslate();</span>
        
        class ActionTranslate implements ActionListener {
            
            private final Language language;
            
<span class="fc" id="L667">            ActionTranslate(Language language) {</span>
<span class="fc" id="L668">                this.language = language;</span>
<span class="fc" id="L669">            }</span>
            
            @Override
            public void actionPerformed(ActionEvent arg0) {
                
<span class="fc" id="L674">                dialogTranslate.initializeDialog(this.language);</span>
                
                // Center the dialog
<span class="pc bpc" id="L677" title="1 of 2 branches missed.">                if (!dialogTranslate.isVisible()) {</span>
                    
<span class="fc" id="L679">                    dialogTranslate.setSize(640, 460);</span>
<span class="fc" id="L680">                    dialogTranslate.setLocationRelativeTo(MediatorHelper.frame());</span>
<span class="fc" id="L681">                    dialogTranslate.getRootPane().setDefaultButton(dialogTranslate.getButtonSend());</span>
                }
                
<span class="fc" id="L684">                dialogTranslate.setVisible(true);</span>
<span class="fc" id="L685">            }</span>
        }
        
<span class="fc" id="L688">        var formatMenuItemUTF8 = &quot;&lt;html&gt;&lt;span style=\&quot;font-family:'%s'\&quot;&gt;%s&lt;/span&gt;...&lt;/html&gt;&quot;;</span>
        
<span class="fc" id="L690">        this.itemIntoHindi = new JMenuItem(</span>
<span class="fc" id="L691">            String.format(</span>
                formatMenuItemUTF8,
                UiUtil.FONT_NAME_MONO_ASIAN,
<span class="fc" id="L694">                Locale.forLanguageTag(&quot;hi&quot;).getDisplayLanguage(Locale.forLanguageTag(&quot;hi&quot;))</span>
            ),
            UiUtil.ICON_FLAG_HI
        );
<span class="fc" id="L698">        this.itemIntoArabic = new JMenuItem(</span>
<span class="fc" id="L699">            String.format(</span>
                formatMenuItemUTF8,
                UiUtil.FONT_NAME_MONO_ASIAN,
<span class="fc" id="L702">                Locale.forLanguageTag(&quot;ar&quot;).getDisplayLanguage(Locale.forLanguageTag(&quot;ar&quot;))</span>
            ),
            UiUtil.ICON_FLAG_AR
        );
<span class="fc" id="L706">        this.itemIntoRussia = new JMenuItem(Locale.forLanguageTag(&quot;ru&quot;).getDisplayLanguage(Locale.forLanguageTag(&quot;ru&quot;)) +&quot;...&quot;, UiUtil.ICON_FLAG_RU);</span>
<span class="fc" id="L707">        this.itemIntoChina = new JMenuItem(</span>
<span class="fc" id="L708">            String.format(</span>
                formatMenuItemUTF8,
                UiUtil.FONT_NAME_MONO_ASIAN,
<span class="fc" id="L711">                Locale.forLanguageTag(&quot;zh&quot;).getDisplayLanguage(Locale.forLanguageTag(&quot;zh&quot;))</span>
            ),
            UiUtil.ICON_FLAG_ZH
        );
<span class="fc" id="L715">        this.itemIntoFrench = new JMenuItem(Locale.forLanguageTag(&quot;fr&quot;).getDisplayLanguage(Locale.forLanguageTag(&quot;fr&quot;)) +&quot;...&quot;, UiUtil.ICON_FLAG_FR);</span>
<span class="fc" id="L716">        this.itemIntoTurkish = new JMenuItem(Locale.forLanguageTag(&quot;tr&quot;).getDisplayLanguage(Locale.forLanguageTag(&quot;tr&quot;)) +&quot;...&quot;, UiUtil.ICON_FLAG_TR);</span>
<span class="fc" id="L717">        this.itemIntoCzech = new JMenuItem(Locale.forLanguageTag(&quot;cs&quot;).getDisplayLanguage(Locale.forLanguageTag(&quot;cs&quot;)) +&quot;...&quot;, UiUtil.ICON_FLAG_CS);</span>
<span class="fc" id="L718">        this.itemIntoDutch = new JMenuItem(Locale.forLanguageTag(&quot;nl&quot;).getDisplayLanguage(Locale.forLanguageTag(&quot;nl&quot;)) +&quot;...&quot;, UiUtil.ICON_FLAG_NL);</span>
<span class="fc" id="L719">        this.itemIntoGerman = new JMenuItem(Locale.forLanguageTag(&quot;de&quot;).getDisplayLanguage(Locale.forLanguageTag(&quot;de&quot;)) +&quot;...&quot;, UiUtil.ICON_FLAG_DE);</span>
<span class="fc" id="L720">        this.itemIntoIndonesian = new JMenuItem(Locale.forLanguageTag(LANGUAGE_IN_ID).getDisplayLanguage(Locale.forLanguageTag(LANGUAGE_IN_ID)) +&quot;...&quot;, UiUtil.ICON_FLAG_IN_ID);</span>
<span class="fc" id="L721">        this.itemIntoItalian = new JMenuItem(Locale.forLanguageTag(&quot;it&quot;).getDisplayLanguage(Locale.forLanguageTag(&quot;it&quot;)) +&quot;...&quot;, UiUtil.ICON_FLAG_IT);</span>
<span class="fc" id="L722">        this.itemIntoSpanish = new JMenuItem(Locale.forLanguageTag(&quot;es&quot;).getDisplayLanguage(Locale.forLanguageTag(&quot;es&quot;)) +&quot;...&quot;, UiUtil.ICON_FLAG_ES);</span>
<span class="fc" id="L723">        this.itemIntoPortuguese = new JMenuItem(Locale.forLanguageTag(&quot;pt&quot;).getDisplayLanguage(Locale.forLanguageTag(&quot;pt&quot;)) +&quot;...&quot;, UiUtil.ICON_FLAG_PT);</span>
<span class="fc" id="L724">        this.itemIntoPolish = new JMenuItem(Locale.forLanguageTag(&quot;pl&quot;).getDisplayLanguage(Locale.forLanguageTag(&quot;pl&quot;)) +&quot;...&quot;, UiUtil.ICON_FLAG_PL);</span>
<span class="fc" id="L725">        this.itemIntoRomanian = new JMenuItem(Locale.forLanguageTag(&quot;ro&quot;).getDisplayLanguage(Locale.forLanguageTag(&quot;ro&quot;)) +&quot;...&quot;, UiUtil.ICON_FLAG_RO);</span>
<span class="fc" id="L726">        this.itemIntoTamil = new JMenuItem(Locale.forLanguageTag(&quot;ta&quot;).getDisplayLanguage(Locale.forLanguageTag(&quot;ta&quot;)) +&quot;...&quot;, UiUtil.ICON_FLAG_LK);</span>
<span class="fc" id="L727">        this.itemIntoJapanese = new JMenuItem(</span>
<span class="fc" id="L728">            String.format(</span>
                formatMenuItemUTF8,
                UiUtil.FONT_NAME_MONO_ASIAN,
<span class="fc" id="L731">                Locale.forLanguageTag(&quot;ja&quot;).getDisplayLanguage(Locale.forLanguageTag(&quot;ja&quot;))</span>
            ),
            UiUtil.ICON_FLAG_JA
        );
<span class="fc" id="L735">        this.itemIntoKorean = new JMenuItem(</span>
<span class="fc" id="L736">            String.format(</span>
                formatMenuItemUTF8,
                UiUtil.FONT_NAME_MONO_ASIAN,
<span class="fc" id="L739">                Locale.forLanguageTag(&quot;ko&quot;).getDisplayLanguage(Locale.forLanguageTag(&quot;ko&quot;))</span>
            ),
            UiUtil.ICON_FLAG_KO
        );
<span class="fc" id="L743">        this.itemIntoSwedish = new JMenuItem(Locale.forLanguageTag(&quot;se&quot;).getDisplayLanguage(Locale.forLanguageTag(&quot;se&quot;)) +&quot;...&quot;, UiUtil.ICON_FLAG_SE);</span>
<span class="fc" id="L744">        this.itemIntoFinnish = new JMenuItem(Locale.forLanguageTag(&quot;fi&quot;).getDisplayLanguage(Locale.forLanguageTag(&quot;fi&quot;)) +&quot;...&quot;, UiUtil.ICON_FLAG_FI);</span>
<span class="fc" id="L745">        var itemIntoOther = new JMenuItem(I18nUtil.valueByKey(&quot;MENUBAR_COMMUNITY_ANOTHERLANGUAGE&quot;));</span>
<span class="fc" id="L746">        I18nViewUtil.addComponentForKey(&quot;MENUBAR_COMMUNITY_ANOTHERLANGUAGE&quot;, itemIntoOther);</span>
        
<span class="fc" id="L748">        this.itemIntoArabic.setComponentOrientation(ComponentOrientation.RIGHT_TO_LEFT);</span>
        
<span class="fc" id="L750">        this.itemIntoFrench.setName(&quot;itemIntoFrench&quot;);</span>
        
<span class="fc" id="L752">        Stream.of(</span>
            this.itemIntoFrench,
            this.itemIntoSpanish,
            this.itemIntoSwedish,
            this.itemIntoFinnish,
            this.itemIntoTurkish,
            this.itemIntoCzech,
            this.itemIntoRomanian,
            this.itemIntoItalian,
            this.itemIntoPortuguese,
            this.itemIntoArabic,
            this.itemIntoPolish,
            this.itemIntoRussia,
            this.itemIntoChina,
            this.itemIntoGerman,
            this.itemIntoIndonesian,
            this.itemIntoJapanese,
            this.itemIntoKorean,
            this.itemIntoHindi,
            this.itemIntoDutch,
            this.itemIntoTamil,
            new JSeparator(),
            itemIntoOther
        )
<span class="fc" id="L776">        .forEach(menuI18nContribution::add);</span>
        
<span class="fc" id="L778">        Stream.of(</span>
            new SimpleEntry&lt;&gt;(this.itemIntoHindi, Language.HI),
            new SimpleEntry&lt;&gt;(this.itemIntoArabic, Language.AR),
            new SimpleEntry&lt;&gt;(this.itemIntoRussia, Language.RU),
            new SimpleEntry&lt;&gt;(this.itemIntoChina, Language.ZH),
            new SimpleEntry&lt;&gt;(this.itemIntoFrench, Language.FR),
            new SimpleEntry&lt;&gt;(this.itemIntoTurkish, Language.TR),
            new SimpleEntry&lt;&gt;(this.itemIntoCzech, Language.CS),
            new SimpleEntry&lt;&gt;(this.itemIntoGerman, Language.DE),
            new SimpleEntry&lt;&gt;(this.itemIntoRomanian, Language.RO),
            new SimpleEntry&lt;&gt;(this.itemIntoTamil, Language.TA),
            new SimpleEntry&lt;&gt;(this.itemIntoDutch, Language.NL),
            new SimpleEntry&lt;&gt;(this.itemIntoIndonesian, Language.IN_ID),
            new SimpleEntry&lt;&gt;(this.itemIntoItalian, Language.IT),
            new SimpleEntry&lt;&gt;(this.itemIntoSpanish, Language.ES),
            new SimpleEntry&lt;&gt;(this.itemIntoPortuguese, Language.PT),
            new SimpleEntry&lt;&gt;(this.itemIntoPolish, Language.PL),
            new SimpleEntry&lt;&gt;(this.itemIntoKorean, Language.KO),
            new SimpleEntry&lt;&gt;(this.itemIntoJapanese, Language.JA),
            new SimpleEntry&lt;&gt;(this.itemIntoSwedish, Language.SE),
            new SimpleEntry&lt;&gt;(this.itemIntoFinnish, Language.FI),
            new SimpleEntry&lt;&gt;(itemIntoOther, Language.OT)
        )
<span class="fc" id="L801">        .forEach(entry -&gt; entry.getKey().addActionListener(</span>
<span class="fc" id="L802">            new ActionTranslate(entry.getValue())</span>
        ));
        
<span class="fc" id="L805">        return menuI18nContribution;</span>
    }

    private JMenuItem initializeItemReportIssue() {
        
<span class="fc" id="L810">        JMenuItem itemReportIssue = new JMenuItemWithMargin(I18nUtil.valueByKey(&quot;MENUBAR_COMMUNITY_REPORTISSUE&quot;), 'R');</span>
<span class="fc" id="L811">        I18nViewUtil.addComponentForKey(&quot;MENUBAR_COMMUNITY_REPORTISSUE&quot;, itemReportIssue);</span>
        
<span class="fc" id="L813">        itemReportIssue.addActionListener(actionEvent -&gt; {</span>
            
<span class="fc" id="L815">            var panel = new JPanel(new BorderLayout());</span>
<span class="fc" id="L816">            final JTextArea textarea = new JPopupTextArea(new JTextArea()).getProxy();</span>
<span class="fc" id="L817">            textarea.setFont(new Font(</span>
                UiUtil.FONT_NAME_MONOSPACED,
                Font.PLAIN,
<span class="fc" id="L820">                UIManager.getDefaults().getFont(&quot;TextField.font&quot;).getSize()</span>
            ));
<span class="fc" id="L822">            textarea.setText(</span>
                &quot;## What's the expected behavior?\n\n&quot;
                + &quot;## What's the actual behavior?\n\n&quot;
                + &quot;## Any other detailed information on the Issue?\n\n&quot;
                + &quot;## Steps to reproduce the problem\n\n&quot;
                + &quot;  1. ...\n&quot;
                + &quot;  2. ...\n\n&quot;
                + &quot;## [Community] Request for new feature\n\n&quot;
            );
<span class="fc" id="L831">            panel.add(new JLabel(&quot;Describe your bug or issue :&quot;), BorderLayout.NORTH);</span>
<span class="fc" id="L832">            panel.add(new LightScrollPane(1, 1, 1, 1, textarea));</span>
            
<span class="fc" id="L834">            panel.setPreferredSize(new Dimension(400, 250));</span>
<span class="fc" id="L835">            panel.setMinimumSize(new Dimension(400, 250));</span>
            
<span class="fc" id="L837">            textarea.addMouseListener(new MouseAdapter() {</span>
                
                @Override
                public void mousePressed(MouseEvent e) {
                    
<span class="nc" id="L842">                    super.mousePressed(e);</span>
<span class="nc" id="L843">                    textarea.requestFocusInWindow();</span>
<span class="nc" id="L844">                }</span>
            });

<span class="fc" id="L847">            int result = JOptionPane.showOptionDialog(</span>
<span class="fc" id="L848">                MediatorHelper.frame(),</span>
                panel,
                &quot;Report an issue or a bug&quot;,
                JOptionPane.OK_CANCEL_OPTION,
                JOptionPane.QUESTION_MESSAGE,
                null,
                new String[] {
                    &quot;Report&quot;,
<span class="fc" id="L856">                    I18nUtil.valueByKey(&quot;LIST_ADD_VALUE_CANCEL&quot;)</span>
                },
<span class="fc" id="L858">                I18nUtil.valueByKey(&quot;LIST_ADD_VALUE_CANCEL&quot;)</span>
            );

<span class="pc bpc" id="L861" title="2 of 4 branches missed.">            if (StringUtils.isNotEmpty(textarea.getText()) &amp;&amp; result == JOptionPane.YES_OPTION) {</span>
<span class="nc" id="L862">                MediatorHelper.model().getMediatorUtils().getGitUtil().sendReport(textarea.getText(), ShowOnConsole.YES, &quot;Report&quot;);</span>
            }
<span class="fc" id="L864">        });</span>
        
<span class="fc" id="L866">        return itemReportIssue;</span>
    }

    private JMenu initializeMenuEdit() {
        
        // Edit Menu &gt; copy | select all
<span class="fc" id="L872">        var menuEdit = new JMenu(I18nUtil.valueByKey(&quot;MENUBAR_EDIT&quot;));</span>
<span class="fc" id="L873">        I18nViewUtil.addComponentForKey(&quot;MENUBAR_EDIT&quot;, menuEdit);</span>
<span class="fc" id="L874">        menuEdit.setMnemonic('E');</span>

<span class="fc" id="L876">        JMenuItem itemCopy = new JMenuItemWithMargin(I18nUtil.valueByKey(&quot;CONTEXT_MENU_COPY&quot;), 'C');</span>
<span class="fc" id="L877">        I18nViewUtil.addComponentForKey(&quot;CONTEXT_MENU_COPY&quot;, itemCopy);</span>
<span class="fc" id="L878">        itemCopy.setAccelerator(KeyStroke.getKeyStroke(KeyEvent.VK_C, InputEvent.CTRL_DOWN_MASK));</span>
<span class="fc" id="L879">        itemCopy.addActionListener(actionEvent -&gt; {</span>
<span class="nc bnc" id="L880" title="All 2 branches missed.">            if (MediatorHelper.tabResults().getSelectedComponent() instanceof PanelTable) {</span>
<span class="nc" id="L881">                ((PanelTable) MediatorHelper.tabResults().getSelectedComponent()).copyTable();</span>
<span class="nc bnc" id="L882" title="All 2 branches missed.">            } else if (MediatorHelper.tabResults().getSelectedComponent() instanceof JScrollPane) {</span>
<span class="nc" id="L883">                ((JTextArea) ((JScrollPane) MediatorHelper.tabResults().getSelectedComponent()).getViewport().getView()).copy();</span>
            }
<span class="nc" id="L885">        });</span>

<span class="fc" id="L887">        JMenuItem itemSelectAll = new JMenuItemWithMargin(I18nUtil.valueByKey(&quot;CONTEXT_MENU_SELECT_ALL&quot;), 'A');</span>
<span class="fc" id="L888">        I18nViewUtil.addComponentForKey(&quot;CONTEXT_MENU_SELECT_ALL&quot;, itemSelectAll);</span>
<span class="fc" id="L889">        itemSelectAll.setAccelerator(KeyStroke.getKeyStroke(KeyEvent.VK_A, InputEvent.CTRL_DOWN_MASK));</span>
<span class="fc" id="L890">        itemSelectAll.addActionListener(actionEvent -&gt; {</span>
            
<span class="nc bnc" id="L892" title="All 2 branches missed.">            if (MediatorHelper.tabResults().getSelectedComponent() instanceof PanelTable) {</span>
<span class="nc" id="L893">                ((PanelTable) MediatorHelper.tabResults().getSelectedComponent()).selectTable();</span>
<span class="nc bnc" id="L894" title="All 2 branches missed.">            } else if (MediatorHelper.tabResults().getSelectedComponent() instanceof JScrollPane) {</span>
                
                // Textarea need focus to select all
<span class="nc" id="L897">                ((JScrollPane) MediatorHelper.tabResults().getSelectedComponent()).getViewport().getView().requestFocusInWindow();</span>
<span class="nc" id="L898">                ((JTextArea) ((JScrollPane) MediatorHelper.tabResults().getSelectedComponent()).getViewport().getView()).selectAll();</span>
            }
<span class="nc" id="L900">        });</span>

<span class="fc" id="L902">        menuEdit.add(itemCopy);</span>
<span class="fc" id="L903">        menuEdit.add(new JSeparator());</span>
<span class="fc" id="L904">        menuEdit.add(itemSelectAll);</span>
        
<span class="fc" id="L906">        return menuEdit;</span>
    }

    private JMenu initializeMenuFile() {
        
        // File Menu &gt; save tab | exit
<span class="fc" id="L912">        var menuFile = new JMenu(I18nUtil.valueByKey(&quot;MENUBAR_FILE&quot;));</span>
<span class="fc" id="L913">        I18nViewUtil.addComponentForKey(&quot;MENUBAR_FILE&quot;, menuFile);</span>
<span class="fc" id="L914">        menuFile.setMnemonic('F');</span>

<span class="fc" id="L916">        JMenuItem itemSave = new JMenuItemWithMargin(new ActionSaveTab());</span>
<span class="fc" id="L917">        I18nViewUtil.addComponentForKey(&quot;MENUBAR_FILE_SAVETABAS&quot;, itemSave);</span>

<span class="fc" id="L919">        JMenuItem itemExit = new JMenuItemWithMargin(I18nUtil.valueByKey(&quot;MENUBAR_FILE_EXIT&quot;), 'x');</span>
<span class="fc" id="L920">        I18nViewUtil.addComponentForKey(&quot;MENUBAR_FILE_EXIT&quot;, itemExit);</span>
<span class="pc" id="L921">        itemExit.addActionListener(actionEvent -&gt; MediatorHelper.frame().dispose());</span>

<span class="fc" id="L923">        HotkeyUtil.addShortcut(Menubar.this);</span>

<span class="fc" id="L925">        menuFile.add(itemSave);</span>
<span class="fc" id="L926">        menuFile.add(new JSeparator());</span>
<span class="fc" id="L927">        menuFile.add(itemExit);</span>
        
<span class="fc" id="L929">        return menuFile;</span>
    }
    
    public void switchLocale(Locale newLocale) {
        
<span class="fc" id="L934">        this.switchLocale(I18nUtil.getLocaleDefault(), newLocale, false);</span>
<span class="fc" id="L935">    }</span>
    
    public void switchLocale(Locale oldLocale, Locale newLocale, boolean isStartup) {
        
<span class="fc" id="L939">        I18nUtil.setLocaleDefault(ResourceBundle.getBundle(&quot;i18n.jsql&quot;, newLocale));</span>
<span class="fc" id="L940">        this.switchNetworkTable(newLocale);</span>
<span class="fc" id="L941">        this.switchI18nComponents(newLocale);</span>
<span class="fc" id="L942">        this.switchOrientation(oldLocale, newLocale, isStartup);</span>
<span class="fc" id="L943">        this.switchMenuItems();</span>
        
<span class="fc" id="L945">        MediatorHelper.treeDatabase().reloadNodes();</span>

        // IllegalArgumentException #92981 on revalidate()
        try {
<span class="fc" id="L949">            MediatorHelper.frame().revalidate();  // Fix glitches on Linux</span>
<span class="nc" id="L950">        } catch (IllegalArgumentException e) {</span>
<span class="nc" id="L951">            LOGGER.log(LogLevelUtil.CONSOLE_JAVA, e, e);</span>
<span class="fc" id="L952">        }</span>
<span class="fc" id="L953">    }</span>

    private void switchOrientation(Locale oldLocale, Locale newLocale, boolean isStartup) {
        
<span class="fc" id="L957">        var componentOrientation = ComponentOrientation.getOrientation(I18nUtil.getLocaleDefault());</span>
<span class="fc" id="L958">        MediatorHelper.frame().applyComponentOrientation(componentOrientation);</span>
        
<span class="pc bpc" id="L960" title="1 of 2 branches missed.">        if (!ComponentOrientation.getOrientation(oldLocale).equals(ComponentOrientation.getOrientation(newLocale))) {</span>
            
<span class="nc" id="L962">            JSplitPane splitPaneLeftRight = MediatorHelper.frame().getSplitHorizontalTopBottom().getSplitVerticalLeftRight();</span>
            
<span class="nc" id="L964">            var componentLeft = splitPaneLeftRight.getLeftComponent();</span>
<span class="nc" id="L965">            var componentRight = splitPaneLeftRight.getRightComponent();</span>

            // Reset components
<span class="nc" id="L968">            splitPaneLeftRight.setLeftComponent(null);</span>
<span class="nc" id="L969">            splitPaneLeftRight.setRightComponent(null);</span>
            
<span class="nc" id="L971">            splitPaneLeftRight.setLeftComponent(componentRight);</span>
<span class="nc" id="L972">            splitPaneLeftRight.setRightComponent(componentLeft);</span>
            
<span class="nc bnc" id="L974" title="All 2 branches missed.">            if (isStartup) {</span>
<span class="nc" id="L975">                splitPaneLeftRight.setDividerLocation(</span>
<span class="nc" id="L976">                    splitPaneLeftRight.getDividerLocation()</span>
                );
            } else {
<span class="nc" id="L979">                splitPaneLeftRight.setDividerLocation(</span>
<span class="nc" id="L980">                    splitPaneLeftRight.getWidth() -</span>
<span class="nc" id="L981">                    splitPaneLeftRight.getDividerLocation()</span>
                );
            }
        }
        
<span class="fc" id="L986">        MediatorHelper.tabResults().setComponentOrientation(ComponentOrientation.getOrientation(newLocale));</span>
<span class="fc" id="L987">    }</span>

    private void switchI18nComponents(Locale newLocale) {
        
<span class="fc bfc" id="L991" title="All 2 branches covered.">        for (String key: I18nViewUtil.keys()) {</span>
            
<span class="fc" id="L993">            String textI18n = I18nViewUtil.valueByKey(key, newLocale);</span>
            
<span class="fc bfc" id="L995" title="All 2 branches covered.">            for (Object componentSwing: I18nViewUtil.componentsByKey(key)) {</span>
<span class="fc bfc" id="L996" title="All 2 branches covered.">                if (componentSwing instanceof JTextFieldPlaceholder) {</span>
                    // Textfield does not need &lt;html&gt; tags for asian fonts
<span class="fc" id="L998">                    ((JTextFieldPlaceholder) componentSwing).setPlaceholderText(I18nUtil.valueByKey(key));</span>
<span class="fc bfc" id="L999" title="All 2 branches covered.">                } else if (componentSwing instanceof JToolTipI18n) {</span>
<span class="fc" id="L1000">                    ((JToolTipI18n) componentSwing).setText(textI18n);</span>
<span class="fc bfc" id="L1001" title="All 2 branches covered.">                } else if (componentSwing instanceof JLabel) {</span>
<span class="fc" id="L1002">                    ((JLabel) componentSwing).setText(textI18n);</span>
<span class="fc bfc" id="L1003" title="All 2 branches covered.">                } else if (componentSwing instanceof JCheckBoxMenuItem) {</span>
<span class="fc" id="L1004">                    ((JCheckBoxMenuItem) componentSwing).setText(textI18n);</span>
<span class="fc bfc" id="L1005" title="All 2 branches covered.">                } else if (componentSwing instanceof JMenuItem) {</span>
<span class="fc" id="L1006">                    ((JMenuItem) componentSwing).setText(textI18n);</span>
<span class="fc bfc" id="L1007" title="All 2 branches covered.">                } else if (componentSwing instanceof JButtonStateful) {</span>
<span class="fc" id="L1008">                    ((JButtonStateful) componentSwing).setText(textI18n);</span>
<span class="pc bpc" id="L1009" title="1 of 2 branches missed.">                } else if (componentSwing instanceof NodeModelEmpty) {</span>
<span class="fc" id="L1010">                    ((NodeModelEmpty) componentSwing).setText(textI18n);</span>
                } else {
<span class="nc" id="L1012">                    ((JTextComponent) componentSwing).setText(textI18n);</span>
                }
<span class="fc" id="L1014">            }</span>
<span class="fc" id="L1015">        }</span>
<span class="fc" id="L1016">    }</span>

    private void switchMenuItems() {
        
<span class="fc" id="L1020">        Stream.of(</span>
            this.itemArabic,
            this.itemIntoArabic
        )
<span class="fc" id="L1024">        .forEach(menuItem -&gt; menuItem.setComponentOrientation(ComponentOrientation.RIGHT_TO_LEFT));</span>
        
<span class="fc" id="L1026">        Stream.of(</span>
            this.itemEnglish,
            this.itemChinese,
            this.itemRussian,
            this.itemFrench,
            this.itemCzech,
            this.itemDutch,
            this.itemGerman,
            this.itemRomanian,
            this.itemSwedish,
            this.itemFinnish,
            this.itemKorean,
            this.itemTurkish,
            this.itemIndonesian,
            this.itemItalian,
            this.itemSpanish,
            this.itemPortuguese,
            this.itemPolish,
            
            this.itemIntoHindi,
            this.itemIntoRussia,
            this.itemIntoChina,
            this.itemIntoFrench,
            this.itemIntoTurkish,
            this.itemIntoCzech,
            this.itemIntoGerman,
            this.itemIntoRomanian,
            this.itemIntoDutch,
            this.itemIntoIndonesian,
            this.itemIntoItalian,
            this.itemIntoSpanish,
            this.itemIntoPortuguese,
            this.itemIntoPolish,
            this.itemIntoKorean,
            this.itemIntoJapanese,
            this.itemIntoTamil,
            this.itemIntoSwedish,
            this.itemIntoFinnish
        )
<span class="fc" id="L1065">        .forEach(menuItem -&gt; menuItem.setComponentOrientation(ComponentOrientation.LEFT_TO_RIGHT));</span>
<span class="fc" id="L1066">    }</span>

    private void switchNetworkTable(Locale newLocale) {
        
<span class="fc" id="L1070">        JTableHeader header = MediatorHelper.panelConsoles().getNetworkTable().getTableHeader();</span>
<span class="fc" id="L1071">        TableColumnModel columnModel = header.getColumnModel();</span>
        
<span class="pc bpc" id="L1073" title="1 of 2 branches missed.">        if (I18nUtil.isAsian(newLocale)) {</span>
            
<span class="nc" id="L1075">            Stream.of(</span>
                JTextPaneAppender.ATTRIBUTE_WARN,
                JTextPaneAppender.ATTRIBUTE_INFORM,
                JTextPaneAppender.ATTRIBUTE_SUCCESS,
                JTextPaneAppender.ATTRIBUTE_ALL
            )
<span class="nc" id="L1081">            .forEach(attribute -&gt; {</span>
<span class="nc" id="L1082">                StyleConstants.setFontFamily(attribute, UiUtil.FONT_NAME_MONO_ASIAN);</span>
<span class="nc" id="L1083">                StyleConstants.setFontSize(attribute, UiUtil.FONT_SIZE_MONO_ASIAN);</span>
<span class="nc" id="L1084">            });</span>
            
<span class="nc" id="L1086">            MediatorHelper.managerBruteForce().getResult().setFont(UiUtil.FONT_MONO_ASIAN);</span>
            
<span class="nc" id="L1088">            columnModel.getColumn(0).setHeaderValue(I18nViewUtil.valueByKey(&quot;NETWORK_TAB_URL_COLUMN&quot;));</span>
<span class="nc" id="L1089">            columnModel.getColumn(1).setHeaderValue(I18nViewUtil.valueByKey(&quot;NETWORK_TAB_SIZE_COLUMN&quot;) +&quot; (KB)&quot;);</span>
<span class="nc" id="L1090">            columnModel.getColumn(2).setHeaderValue(&quot;Strategy&quot;);</span>
            
        } else {
            
<span class="fc" id="L1094">            Stream.of(</span>
                JTextPaneAppender.ATTRIBUTE_WARN,
                JTextPaneAppender.ATTRIBUTE_INFORM,
                JTextPaneAppender.ATTRIBUTE_SUCCESS,
                JTextPaneAppender.ATTRIBUTE_ALL
            )
<span class="fc" id="L1100">            .forEach(attribute -&gt; {</span>
<span class="fc" id="L1101">                StyleConstants.setFontFamily(attribute, UiUtil.FONT_NAME_MONO_NON_ASIAN);</span>
<span class="fc" id="L1102">                StyleConstants.setFontSize(attribute, UiUtil.FONT_SIZE_MONO_NON_ASIAN);</span>
<span class="fc" id="L1103">            });</span>
            
<span class="fc" id="L1105">            MediatorHelper.managerBruteForce().getResult().setFont(UiUtil.FONT_MONO_NON_ASIAN);</span>
            
<span class="fc" id="L1107">            columnModel.getColumn(0).setHeaderValue(I18nUtil.valueByKey(&quot;NETWORK_TAB_URL_COLUMN&quot;));</span>
<span class="fc" id="L1108">            columnModel.getColumn(1).setHeaderValue(I18nUtil.valueByKey(&quot;NETWORK_TAB_SIZE_COLUMN&quot;) +&quot; (KB)&quot;);</span>
<span class="fc" id="L1109">            columnModel.getColumn(2).setHeaderValue(&quot;Strategy&quot;);</span>
        }
        
<span class="fc" id="L1112">        header.repaint();</span>
<span class="fc" id="L1113">    }</span>
    
    
    // Getter and setter

    public JCheckBoxMenuItem getChunkMenu() {
<span class="fc" id="L1119">        return this.chunkMenu;</span>
    }

    public JCheckBoxMenuItem getJavaDebugMenu() {
<span class="fc" id="L1123">        return this.javaDebugMenu;</span>
    }

    public JMenu getMenuView() {
<span class="nc" id="L1127">        return this.menuView;</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.12.202403310830</span></div></body></html>